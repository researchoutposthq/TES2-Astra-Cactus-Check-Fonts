@import "tailwindcss";
/* config for tailwindcss-typography plugin */
@config "../../tailwind.config.ts";

/* use a selector-based strategy for dark mode */
@custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

/* you could refactor below to use light-dark(), depending on your target audience */
@theme {
	--color-global-bg: oklch(98.48% 0 0);
	--color-global-text: oklch(26.99% 0.0096 235.05);
	--color-link: oklch(55.44% 0.0431 185.69);
	--color-accent: oklch(55.27% 0.195 19.06);
	--color-accent-2: oklch(18.15% 0 0);
	--color-quote: oklch(55.27% 0.195 19.06);
}

@layer base {
	html {
		color-scheme: light dark;
		accent-color: var(--color-accent);
		scrollbar-gutter: stable;

		&[data-theme="light"] {
			color-scheme: light;
		}

		&[data-theme="dark"] {
			color-scheme: dark;
			--color-global-bg: oklch(23.64% 0.0045 248);
			--color-global-text: oklch(83.54% 0 264);
			--color-link: oklch(70.44% 0.1133 349);
			--color-accent: oklch(70.91% 0.1415 163.7);
			--color-accent-2: oklch(94.66% 0 0);
			--color-quote: oklch(94.8% 0.106 136.49);
		}
	}

	:target {
		scroll-margin-block: 5ex;
	}

	@view-transition {
		navigation: auto;
	}

	/* Astro image responsive styles, modified from -> https://docs.astro.build/en/guides/images/#responsive-image-styles */
	:where([data-astro-image]) {
		object-fit: var(--fit);
		object-position: var(--pos);
	}
	[data-astro-image="full-width"] {
		width: 100%;
	}
	[data-astro-image="constrained"] {
		max-width: 100%;
	}
}

@layer components {
	@import "./components/admonition.css";
	@import "./components/github-card.css";

	.cactus-link {
		@apply hover:decoration-link underline underline-offset-2 hover:decoration-2;
	}

	.title {
		@apply text-accent-2 text-2xl font-semibold;
	}
}

@utility prose {
	--tw-prose-body: var(--color-global-text);
	--tw-prose-bold: var(--color-global-text);
	--tw-prose-bullets: var(--color-global-text);
	--tw-prose-code: var(--color-global-text);
	--tw-prose-headings: var(--color-accent-2);
	--tw-prose-hr: 0.5px dashed #666;
	--tw-prose-links: var(--color-global-text);
	--tw-prose-quotes: var(--color-quote);
	--tw-prose-th-borders: #666;
}

/* Design Variants Comparison Classes */
.variant-wrapper {
	padding: 4rem 1rem;
	display: flex;
	flex-direction: column;
	align-items: center;
	width: 100%;
}

.variant-content {
	width: 100%;
}

/* Variant 1: Modern/Clean (Dark) */
.v1 {
	background-color: #1a1a1a;
	color: #f9f9f9;
}
.v1 .variant-content {
	max-width: 680px;
	font-family: "Inter", sans-serif;
	line-height: 1.625;
}
.v1 h1,
.v1 h2,
.v1 h3 {
	font-family: "Outfit", sans-serif;
	font-weight: 700;
}

/* Variant 2: Editorial/Document (Dark) */
.v2 {
	background-color: #111111;
	color: #f2f2f2;
}
.v2 .variant-content {
	max-width: 720px;
	font-family: "IBM Plex Serif", serif;
	line-height: 1.7;
}
.v2 h1,
.v2 h2,
.v2 h3 {
	font-family: "IBM Plex Mono", monospace;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	font-weight: 700;
}

/* Variant 3: Deep Tech */
.v3 {
	background-color: #121212;
	color: #cccccc;
}
.v3 .variant-content {
	max-width: 640px;
	font-family: "Geist Mono", monospace;
	line-height: 1.8;
	letter-spacing: -0.02em;
}
.v3 h1,
.v3 h2,
.v3 h3 {
	font-family: "Geist Mono", monospace;
}
